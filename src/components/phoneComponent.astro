---
const rotation = 0;
---

<section class="flex items-center flex-col pb-20 gap-20 pt-4">
  <div class="text-center">
    <h3 class="font-bold text-6xl text-center">
      Your Command Center,<span
        class="span-clip"
      >
        Always Ready</span
      >
    </h3>
    <p class="text-[#807C7C] mt-4 font-medium">
      Get instant alerts and take action in secondsâ€”all from your phone.
    </p>
  </div>

  <div class="flex mt-20 justify-center">
    <div
      id="phone-wrapper"
      class="relative w-[280px] flex items-center justify-center sm:w-[320px] lg:w-[360px] h-[560px] sm:h-[640px] lg:h-[720px] rounded-[40px] sm:rounded-[48px] bg-linear-to-br from-gray-900 to-gray-950 p-3 sm:p-4 shadow-2xl border-4 sm:border-8 border-gray-950 transition-transform duration-100 ease-out"
      style="transform: perspective(1000px) rotateY(0deg) rotateX(0deg)"
    >
      <div
        class="absolute top-5 left-1/2 -translate-x-1/2 w-20 sm:w-24 h-5 sm:h-6 bg-gray-950 rounded-full z-20"
      >
      </div>

      <!-- Screen Content (Neural Network Layout) -->
      <div
        class="w-full h-full rounded-[32px] sm:rounded-[38px] overflow-hidden relative flex items-center justify-center bg-gray-950"
      >
        <!-- Background Network Effect (Static Grid) -->
        <div
          class="absolute inset-0 opacity-20 bg-[radial-gradient(#25D366_1px,transparent_1px)] bg-size:[20px_20px]"
        >
        </div>

        <!-- Central Hub -->
        <div class="relative z-10 flex flex-col items-center gap-1 group">
          <div
            class="absolute -inset-14 bg-green-500/20 blur-3xl rounded-full animate-pulse"
          >
          </div>
          <div
            class="absolute -inset-10 border border-green-500/30 rounded-full animate-spin [animation-duration:15s]"
          >
          </div>

          <p
            class="font-black text-2xl text-white uppercase tracking-[0.3em] relative z-10"
          >
            Avienta
          </p>
          <div
            class="h-1px w-12 bg-linear-to-r from-transparent via-green-500 to-transparent relative z-10"
          >
          </div>
        </div>

        <!-- Notification Nodes (Mapped Icons) -->
        <div class="absolute inset-0 z-10">
          <!-- New Sale Node (Top Left) -->
          <div class="absolute top-[18%] left-[12%] group">
            <div class="relative">
              <div
                class="absolute top-1/2 left-1/2 w-32 h-1px bg-linear-to-r from-green-500/40 to-transparent origin-left rotate-40 animate-pulse"
              >
              </div>
              <div
                class="w-12 h-12 lg:w-14 lg:h-14 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 flex items-center justify-center text-green-400 shadow-2xl relative z-10 animate-bounce [animation-duration:4s]"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  ><line x1="12" y1="1" x2="12" y2="23"></line><path
                    d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"
                  ></path></svg
                >
                <div
                  class="absolute -top-1 -right-1 w-2.5 h-2.5 bg-green-500 rounded-full animate-ping"
                >
                </div>
              </div>
            </div>
          </div>

          <!-- Marketing Node (Top Right) -->
          <div class="absolute top-[18%] right-[12%] group">
            <div class="relative">
              <div
                class="absolute top-1/2 right-1/2 w-32 h-px bg-linear-to-l from-pink-500/40 to-transparent origin-right -rotate-40 animate-pulse"
              >
              </div>
              <div
                class="w-12 h-12 lg:w-14 lg:h-14 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 flex items-center justify-center text-pink-400 shadow-2xl relative z-10 animate-bounce [animation-duration:3.5s] [animation-delay:0.8s]"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  ><path
                    fill="currentColor"
                    d="M11 17.25A4.25 4.25 0 1 1 6.75 13H11zM17.25 13A4.25 4.25 0 1 1 13 17.25V13zm-10.5 2A2.25 2.25 0 1 0 9 17.25V15zM15 17.25A2.25 2.25 0 1 0 17.25 15H15zM6.75 2.5A4.25 4.25 0 0 1 11 6.75V11H6.75a4.25 4.25 0 1 1 0-8.5m10 .34a.538.538 0 0 1 1 0l.27.648a4.64 4.64 0 0 0 2.391 2.47l.762.34a.563.563 0 0 1 0 1.022l-.808.359a4.64 4.64 0 0 0-2.357 2.39l-.262.6c-.192.44-.8.44-.992 0l-.262-.6a4.64 4.64 0 0 0-2.357-2.39l-.808-.359a.563.563 0 0 1 0-1.022l.762-.34a4.64 4.64 0 0 0 2.391-2.47zm-10 1.66a2.25 2.25 0 0 0 0 4.5H9V6.75A2.25 2.25 0 0 0 6.75 4.5"
                  ></path></svg
                >
                <div
                  class="absolute -top-1 -left-1 w-2.5 h-2.5 bg-pink-500 rounded-full animate-ping [animation-delay:0.8s]"
                >
                </div>
              </div>
            </div>
          </div>

          <!-- Shipping Node (Mid Right) -->
          <div class="absolute top-[42%] right-[8%] group">
            <div class="relative">
              <div
                class="absolute top-1/2 right-1/2 w-28 h-px bg-linear-to-l from-blue-500/40 to-transparent origin-right -rotate-[5deg] animate-pulse"
              >
              </div>
              <div
                class="w-12 h-12 lg:w-14 lg:h-14 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 flex items-center justify-center text-blue-400 shadow-2xl relative z-10 animate-bounce [animation-duration:5s] [animation-delay:1.5s]"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  ><rect x="1" y="3" width="15" height="13"></rect><polygon
                    points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle
                    cx="5.5"
                    cy="18.5"
                    r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"
                  ></circle></svg
                >
                <div
                  class="absolute -top-1 -right-1 w-2.5 h-2.5 bg-blue-500 rounded-full animate-ping [animation-delay:1.5s]"
                >
                </div>
              </div>
            </div>
          </div>

          <!-- Stats Node (Bottom Right) -->
          <div class="absolute bottom-[20%] right-[15%] group">
            <div class="relative">
              <div
                class="absolute bottom-1/2 right-1/2 w-32 h-px bg-linear-to-l from-teal-500/40 to-transparent origin-right rotate-35 animate-pulse"
              >
              </div>
              <div
                class="w-12 h-12 lg:w-14 lg:h-14 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 flex items-center justify-center text-teal-400 shadow-2xl relative z-10 animate-bounce [animation-duration:4.2s] [animation-delay:0.3s]"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  ><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"
                  ></path></svg
                >
                <div
                  class="absolute -bottom-1 -right-1 w-2.5 h-2.5 bg-teal-500 rounded-full animate-ping [animation-delay:0.3s]"
                >
                </div>
              </div>
            </div>
          </div>

          <!-- Inventory Node (Bottom Left) -->
          <div class="absolute bottom-[20%] left-[15%] group">
            <div class="relative">
              <div
                class="absolute bottom-1/2 left-1/2 w-32 h-px bg-linear-to-r from-amber-500/40 to-transparent origin-left -rotate-35 animate-pulse"
              >
              </div>
              <div
                class="w-12 h-12 lg:w-14 lg:h-14 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 flex items-center justify-center text-amber-500 shadow-2xl relative z-10 animate-bounce [animation-duration:4.5s] [animation-delay:0.5s]"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  ><path d="M12 9v4"></path><path d="M12 17h.01"></path><path
                    d="m3 20h18L12 4z"></path></svg
                >
                <div
                  class="absolute -bottom-1 -left-1 w-2.5 h-2.5 bg-amber-500 rounded-full animate-ping [animation-delay:0.5s]"
                >
                </div>
              </div>
            </div>
          </div>

          <!-- Support Node (Mid Left) -->
          <div class="absolute top-[42%] left-[8%] group">
            <div class="relative">
              <div
                class="absolute top-1/2 left-1/2 w-28 h-px bg-linear-to-r from-purple-500/40 to-transparent origin-left rotate-[5deg] animate-pulse"
              >
              </div>
              <div
                class="w-12 h-12 lg:w-14 lg:h-14 rounded-2xl bg-white/5 backdrop-blur-xl border border-white/10 flex items-center justify-center text-purple-400 shadow-2xl relative z-10 animate-bounce [animation-duration:4.8s] [animation-delay:1.2s]"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  ><path
                    d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                  ></path></svg
                >
                <div
                  class="absolute -top-1 -left-1 w-2.5 h-2.5 bg-purple-500 rounded-full animate-ping [animation-delay:1.2s]"
                >
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Scanning Line Effect -->
        <div
          class="absolute inset-0 bg-linear-to-b from-transparent via-green-500/10 to-transparent h-[10%] w-full animate-[scan_4s_linear_infinite] pointer-events-none"
        >
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const phone = document.getElementById("phone-wrapper");

  function updateRotation() {
    if (!phone) return;

    const rect = phone.getBoundingClientRect();
    const viewportHeight = window.innerHeight;

    const elementMiddle = rect.top + rect.height / 2;
    const progress = 1 - elementMiddle / viewportHeight;

    const rotationY = (progress - 0.5) * 30;

    const rotationX = (progress - 0.5) * 40;

    phone.style.transform = `perspective(1000px) rotateY(${rotationY}deg) rotateX(${-rotationX}deg)`;
  }

  // Optimized scroll listener
  window.addEventListener(
    "scroll",
    () => {
      requestAnimationFrame(updateRotation);
    },
    { passive: true }
  );

  // Initial call
  updateRotation();
</script>

<style>
  @keyframes scan {
    from {
      transform: translateY(-100%);
    }
    to {
      transform: translateY(1000%);
    }
  }
</style>
